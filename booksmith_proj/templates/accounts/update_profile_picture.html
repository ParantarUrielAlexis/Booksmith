{% extends 'base.html' %} {% load static %} {% block title %} Account Settings
{% endblock %} {% block extra_css %}
<link rel="stylesheet" href="{% static 'css_files/update_profile.css' %}" />
{% endblock %} {% block content %}
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>

<div class="container light-style flex-grow-1 container-p-y">
  <h4 class="font-weight-bold py-3 mb-4">Account Settings</h4>
  <form method="POST" enctype="multipart/form-data">
    <!-- Add enctype for file uploads -->
    {% csrf_token %}
    <div class="card overflow-hidden">
      <div class="row no-gutters row-bordered row-border-light">
        <div class="col-md-3 pt-0">
          <div class="list-group list-group-flush account-settings-links">
            <a
              class="list-group-item list-group-item-action active"
              data-toggle="list"
              href="#account-general"
              >General</a
            >
            <a
              class="list-group-item list-group-item-action"
              data-toggle="list"
              href="#account-change-password"
              >Change Password</a
            >
            <a
              class="list-group-item list-group-item-action"
              data-toggle="list"
              href="#account-info"
              >Info</a
            >
          </div>
        </div>
        <div class="col-md-9">
          <div class="tab-content">
            <div class="tab-pane fade active show" id="account-general">
              <div class="card-body media align-items-center">
                <img
                  src="{% if profile.image %}{{ profile.image.url }}{% else %}{% static 'images/default_avatar.png' %}{% endif %}"
                  alt="Profile Picture"
                  class="d-block ui-w-80"
                />
                <div class="media-body ml-4">
                  <label class="btn btn-outline-primary">
                    Upload new photo {{ form.image }}
                  </label>
                  <div class="text-light small mt-1">
                    Allowed JPG, GIF or PNG. Max size of 800K
                  </div>
                </div>
              </div>
              <hr class="border-light m-0" />
              <div class="card-body">
                <div class="form-group">
                  <label class="form-label">Username</label>
                  <input
                    type="text"
                    class="form-control mb-1"
                    value="{{ user.username }}"
                    disabled
                  />
                </div>
                <div class="form-group">
                  <label class="form-label">Name</label>
                  <input
                    type="text"
                    class="form-control"
                    value="{{ user.get_full_name }}"
                    disabled
                  />
                </div>
                <div class="form-group">
                  <label class="form-label">Gender</label>
                  {{ form.gender }}
                  <!-- Use form field for gender -->
                </div>
                <div class="form-group">
                  <label class="form-label">Birthdate</label>
                  {{ form.birthdate }}
                  <!-- Use form field for birthdate -->
                </div>
              </div>
            </div>
            <div class="tab-pane fade" id="account-change-password">
              <div class="card-body pb-2">
                <div class="form-group">
                  <label class="form-label">Current Password</label>
                  <input
                    type="password"
                    class="form-control"
                    name="current_password"
                  />
                </div>
                <div class="form-group">
                  <label class="form-label">New Password</label>
                  <input
                    type="password"
                    class="form-control"
                    name="new_password"
                  />
                </div>
                <div class="form-group">
                  <label class="form-label">Repeat New Password</label>
                  <input
                    type="password"
                    class="form-control"
                    name="repeat_new_password"
                  />
                </div>
              </div>
            </div>
            <div class="tab-pane fade" id="account-info">
              <div class="card-body pb-2">
                <div class="form-group">
                  <label class="form-label">Bio</label>
                  {{ form.bio }}
                  <!-- Use form field for bio -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="text-right mt-3">
      <button type="submit" class="btn btn-primary">Save changes</button>&nbsp;
      <button type="button" class="btn btn-default">Cancel</button>
    </div>
  </form>
</div>

{% endblock %} {% block extra_js %}
<script
  data-cfasync="false"
  src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"
></script>
<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript"></script>
{% endblock %}
